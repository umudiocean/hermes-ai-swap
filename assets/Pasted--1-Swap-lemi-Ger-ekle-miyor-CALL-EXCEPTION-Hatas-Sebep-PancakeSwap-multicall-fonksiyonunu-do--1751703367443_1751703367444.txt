 1. Swap Ä°ÅŸlemi GerÃ§ekleÅŸmiyor â€“ CALL_EXCEPTION HatasÄ±
Sebep:
PancakeSwap multicall fonksiyonunu doÄŸrudan sendTransaction ile Ã§aÄŸÄ±rmaya Ã§alÄ±ÅŸÄ±yorsun ama bu fonksiyon view tÃ¼rÃ¼ndeyse (ya da sadece call ile Ã§alÄ±ÅŸmasÄ± gerekiyorsa) CALL_EXCEPTION hatasÄ± verir. AyrÄ±ca:

Route yanlÄ±ÅŸ olabilir (Ã¶rneÄŸin: WBNB yerine BNB)

Slippage veya deadline hatalÄ± olabilir

KullanÄ±cÄ±dan alÄ±nan BNB doÄŸrudan native ETH (BNB) olarak gÃ¶nderiliyor olabilir, ama router WBNB bekliyor olabilir

ğŸ”§ Ã‡Ã¶zÃ¼m:
Route dizisini kontrol et â†’ WBNB yerine BNB kullanÄ±yorsan ethers.constants.AddressZero yerine WBNB_ADDRESS kullan.

Tek iÅŸlem iÃ§in kullanÄ±lan multicall fonksiyonu yerine klasik swapExactETHForTokens yapÄ±sÄ±nÄ± test et.

Slippageâ€™i UI'da %1 yaptÄ±ÄŸÄ±n halde, routerâ€™Ä±n minimum Ã§Ä±ktÄ± hesaplamasÄ± Ã§ok dÃ¼ÅŸÃ¼kse swap iÅŸlemi revert olur.

value parametresi swap fonksiyonunda eksik ya da hatalÄ± olabilir.

âš ï¸ 2. 100.000 Hermes Ã–dÃ¼lÃ¼ GÃ¶rÃ¼nmÃ¼yor (Reward Token "0x" HatasÄ±)
Sebep:
Reward sisteminde backend veya frontend read-only bir kontrat fonksiyonundan sonuÃ§ almak istiyor ama dÃ¶nen veri "0x" yani boÅŸ. Bu ÅŸunlardan biri olabilir:

KullanÄ±cÄ±nÄ±n claim edilecek bir bakiyesi yok.

Reward kontratÄ±ndaki claimable(address) veya benzeri getter fonksiyon response vermiyor ya da yanlÄ±ÅŸ address gÃ¶nderiliyor.

ğŸ”§ Ã‡Ã¶zÃ¼m:
getClaimableReward(userAddress) fonksiyonunun var olduÄŸuna ve public olarak tanÄ±mlandÄ±ÄŸÄ±na emin ol.

Reward'Ä± yÃ¶neten kontratta mapping dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yor mu?

0x358AA13c... adresli kontrat gerÃ§ekten reward sistemini iÃ§eriyor mu?

âœ… Åu An Ne YapmalÄ±yÄ±z?
PancakeSwap swap iÅŸlemine tek adÄ±mda izin verecek en basit yapÄ±yÄ± tekrar test etmeliyiz. Yani:

ts
Copy
Edit
router.swapExactETHForTokens(
  amountOutMin,
  [WBNB_ADDRESS, tokenOut],
  userAddress,
  deadline,
  { value: amountIn }
)
â†’ WBNB_ADDRESS sabit olmalÄ±: 0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c

Reward sistemi iÃ§in backend deÄŸil, direkt kontrat fonksiyonunu Ã§aÄŸÄ±rarak hesaplama yapÄ±lmalÄ±. Ã–rnek:

ts
Copy
Edit
const reward = await rewardContract.claimable(userAddress)
